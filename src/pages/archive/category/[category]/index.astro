---
import PostsPanel from "@/components/PostsPanel.astro";
import I18nKey from "@/i18n/i18nKey";
import {i18n} from "@/i18n/translation";
import MainGridLayout from "@/layouts/MainGridLayout.astro";
import { CachePosts } from "@/store";
import {getCachePosts} from "@/utils/cache-utils";

getCachePosts();
const blogEntries = CachePosts.get() || [];

const category = blogEntries.map((entry) => entry.category).filter((value, index, self) => self.indexOf(value) === index);

---

<MainGridLayout title={i18n(I18nKey.archive)} description={i18n(I18nKey.archive)}>
    <PostsPanel category={category}></PostsPanel>
</MainGridLayout>